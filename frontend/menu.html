<!--<!DOCTYPE html>-->
<!--<html lang="vi">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Thá»±c ÄÆ¡n - Food Delivery</title>-->
<!--    <link rel="stylesheet" href="menu.css">-->
<!--</head>-->
<!--<body>-->
<!--    <div class="header">-->
<!--        <div class="header-content">-->
<!--            <h1>ğŸ½ï¸ Thá»±c ÄÆ¡n Äáº§y Äá»§</h1>-->
<!--            <a href="home.html" class="back-btn">â† Quay Láº¡i</a>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="container">-->
<!--        <div class="menu-controls">-->
<!--            <div class="search-section">-->
<!--                <div class="search-icon">ğŸ”</div>-->
<!--                <input type="text" class="search-box" id="searchInput" placeholder="TÃ¬m kiáº¿m mÃ³n Äƒn, nhÃ  hÃ ng...">-->
<!--            </div>-->

<!--            <div class="filters">-->
<!--                <div class="filter-group">-->
<!--                    <label class="filter-label">Khoáº£ng cÃ¡ch</label>-->
<!--                    <select class="filter-select" id="distanceFilter">-->
<!--                        <option value="">Táº¥t cáº£</option>-->
<!--                        <option value="near">Gáº§n nháº¥t (&lt; 2km)</option>-->
<!--                        <option value="medium">Trung bÃ¬nh (2-5km)</option>-->
<!--                        <option value="far">Xa (&gt; 5km)</option>-->
<!--                    </select>-->
<!--                </div>-->

<!--                <div class="filter-group">-->
<!--                    <label class="filter-label">Sáº¯p xáº¿p</label>-->
<!--                    <select class="filter-select" id="sortFilter">-->
<!--                        <option value="popular">BÃ¡n cháº¡y</option>-->
<!--                        <option value="rating">ÄÃ¡nh giÃ¡ cao</option>-->
<!--                        <option value="price-low">GiÃ¡ tháº¥p â†’ cao</option>-->
<!--                        <option value="price-high">GiÃ¡ cao â†’ tháº¥p</option>-->
<!--                        <option value="distance">Khoáº£ng cÃ¡ch</option>-->
<!--                    </select>-->
<!--                </div>-->

<!--                <div class="filter-group">-->
<!--                    <label class="filter-label">GiÃ¡</label>-->
<!--                    <select class="filter-select" id="priceFilter">-->
<!--                        <option value="">Táº¥t cáº£</option>-->
<!--                        <option value="budget">Tiáº¿t kiá»‡m (&lt; 200k)</option>-->
<!--                        <option value="medium">Trung bÃ¬nh (200k-400k)</option>-->
<!--                        <option value="premium">Cao cáº¥p (&gt; 400k)</option>-->
<!--                    </select>-->
<!--                </div>-->

<!--                <div class="filter-group">-->
<!--                    <label class="filter-label">ÄÃ¡nh giÃ¡</label>-->
<!--                    <select class="filter-select" id="ratingFilter">-->
<!--                        <option value="">Táº¥t cáº£</option>-->
<!--                        <option value="5">â­â­â­â­â­</option>-->
<!--                        <option value="4">â­â­â­â­+ trá»Ÿ lÃªn</option>-->
<!--                        <option value="3">â­â­â­+ trá»Ÿ lÃªn</option>-->
<!--                    </select>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="menu-grid" id="menuGrid">-->
<!--            &lt;!&ndash; Menu items will be loaded here &ndash;&gt;-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        const API_BASE_URL = 'http://localhost:5000/api';-->
<!--        let menuItems = [];-->
<!--        let filteredItems = [];-->
<!--        let currentUser = null;-->

<!--        // Check authentication-->
<!--        function checkAuth() {-->
<!--            const user = localStorage.getItem('user');-->
<!--            if (!user) {-->
<!--                window.location.href = 'index.html';-->
<!--                return;-->
<!--            }-->
<!--            currentUser = JSON.parse(user);-->
<!--        }-->

<!--        // Load menu items-->
<!--        async function loadMenu() {-->
<!--            try {-->
<!--                const response = await fetch(`${API_BASE_URL}/menu`);-->
<!--                const data = await response.json();-->
<!--                if (data.success) {-->
<!--                    menuItems = data.items;-->
<!--                    filteredItems = [...menuItems];-->
<!--                    renderMenu();-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error loading menu:', error);-->
<!--            }-->
<!--        }-->

<!--        function renderMenu() {-->
<!--            const menuGrid = document.getElementById('menuGrid');-->

<!--            if (filteredItems.length === 0) {-->
<!--                menuGrid.innerHTML = `-->
<!--                    <div class="no-results">-->
<!--                        <div class="no-results-icon">ğŸ”</div>-->
<!--                        <h3>KhÃ´ng tÃ¬m tháº¥y mÃ³n Äƒn nÃ o</h3>-->
<!--                        <p>HÃ£y thá»­ thay Ä‘á»•i tá»« khÃ³a tÃ¬m kiáº¿m hoáº·c bá»™ lá»c</p>-->
<!--                    </div>-->
<!--                `;-->
<!--                return;-->
<!--            }-->

<!--            menuGrid.innerHTML = filteredItems.map(item => `-->
<!--                <div class="menu-item" onclick="addToCart(${item.id}, '${item.name}', ${item.price})">-->
<!--                    ${item.badge ? `<div class="item-badge ${item.badge}">${item.badge === 'popular' ? 'ğŸ”¥ BÃ¡n cháº¡y' : 'ğŸ†• Má»›i'}</div>` : ''}-->
<!--                    <img src="http://localhost:5000/${item.image}" alt="${item.name}">-->
<!--                    <div class="item-content">-->
<!--                        <div class="item-header">-->
<!--                            <div>-->
<!--                                <div class="item-name">${item.name}</div>-->
<!--                                <div class="item-restaurant">ğŸ“ ${item.restaurant}</div>-->
<!--                                <div class="item-rating">-->
<!--                                    <span class="stars">${'â­'.repeat(Math.floor(item.rating))}</span>-->
<!--                                    <span class="rating-text">${item.rating} (${item.reviews} Ä‘Ã¡nh giÃ¡)</span>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="item-description">${item.description}</div>-->
<!--                        <div class="item-details">-->
<!--                            <div class="delivery-time">â° ${item.delivery_time} phÃºt</div>-->
<!--                            <div class="delivery-distance">ğŸ“ ${item.distance}km</div>-->
<!--                        </div>-->
<!--                        <div class="item-footer">-->
<!--                            <div class="item-price">${item.price.toLocaleString('vi-VN')} â‚«</div>-->
<!--                            <button class="add-btn" onclick="event.stopPropagation(); addToCart(${item.id}, '${item.name}', ${item.price})">-->
<!--                                â• ThÃªm-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `).join('');-->
<!--        }-->

<!--        function filterAndSort() {-->
<!--            const searchTerm = document.getElementById('searchInput').value.toLowerCase();-->
<!--            const distanceFilter = document.getElementById('distanceFilter').value;-->
<!--            const sortFilter = document.getElementById('sortFilter').value;-->
<!--            const priceFilter = document.getElementById('priceFilter').value;-->
<!--            const ratingFilter = document.getElementById('ratingFilter').value;-->

<!--            // Filter by search term-->
<!--            filteredItems = menuItems.filter(item =>-->
<!--                item.name.toLowerCase().includes(searchTerm) ||-->
<!--                item.restaurant.toLowerCase().includes(searchTerm) ||-->
<!--                item.description.toLowerCase().includes(searchTerm)-->
<!--            );-->

<!--            // Filter by distance-->
<!--            if (distanceFilter) {-->
<!--                filteredItems = filteredItems.filter(item => {-->
<!--                    switch (distanceFilter) {-->
<!--                        case 'near': return item.distance < 2;-->
<!--                        case 'medium': return item.distance >= 2 && item.distance <= 5;-->
<!--                        case 'far': return item.distance > 5;-->
<!--                        default: return true;-->
<!--                    }-->
<!--                });-->
<!--            }-->

<!--            // Filter by price-->
<!--            if (priceFilter) {-->
<!--                filteredItems = filteredItems.filter(item => {-->
<!--                    switch (priceFilter) {-->
<!--                        case 'budget': return item.price < 200000;-->
<!--                        case 'medium': return item.price >= 200000 && item.price <= 400000;-->
<!--                        case 'premium': return item.price > 400000;-->
<!--                        default: return true;-->
<!--                    }-->
<!--                });-->
<!--            }-->

<!--            // Filter by rating-->
<!--            if (ratingFilter) {-->
<!--                const minRating = parseInt(ratingFilter);-->
<!--                filteredItems = filteredItems.filter(item => item.rating >= minRating);-->
<!--            }-->

<!--            // Sort items-->
<!--            filteredItems.sort((a, b) => {-->
<!--                switch (sortFilter) {-->
<!--                    case 'popular':-->
<!--                        return b.reviews - a.reviews;-->
<!--                    case 'rating':-->
<!--                        return b.rating - a.rating;-->
<!--                    case 'price-low':-->
<!--                        return a.price - b.price;-->
<!--                    case 'price-high':-->
<!--                        return b.price - a.price;-->
<!--                    case 'distance':-->
<!--                        return a.distance - b.distance;-->
<!--                    default:-->
<!--                        return 0;-->
<!--                }-->
<!--            });-->

<!--            renderMenu();-->
<!--        }-->

<!--        async function addToCart(itemId, itemName, price) {-->
<!--            try {-->
<!--                const response = await fetch(`${API_BASE_URL}/cart`, {-->
<!--                    method: 'POST',-->
<!--                    headers: { 'Content-Type': 'application/json' },-->
<!--                    body: JSON.stringify({-->
<!--                        user_id: currentUser.id,-->
<!--                        item_id: itemId,-->
<!--                        quantity: 1-->
<!--                    })-->
<!--                });-->

<!--                const data = await response.json();-->
<!--                if (data.success) {-->
<!--                    alert(`ğŸ‰ ${itemName} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá» hÃ ng!\nGiÃ¡: ${price.toLocaleString('vi-VN')} â‚«`);-->
<!--                } else {-->
<!--                    alert(data.message);-->
<!--                }-->
<!--            } catch (error) {-->
<!--                alert('Lá»—i khi thÃªm vÃ o giá» hÃ ng');-->
<!--            }-->
<!--        }-->

<!--        // Event listeners-->
<!--        document.getElementById('searchInput').addEventListener('input', filterAndSort);-->
<!--        document.getElementById('distanceFilter').addEventListener('change', filterAndSort);-->
<!--        document.getElementById('sortFilter').addEventListener('change', filterAndSort);-->
<!--        document.getElementById('priceFilter').addEventListener('change', filterAndSort);-->
<!--        document.getElementById('ratingFilter').addEventListener('change', filterAndSort);-->

<!--        // Initialize page-->
<!--        checkAuth();-->
<!--        loadMenu()-->